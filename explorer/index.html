<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <script type="module" src="index.js"></script>
  </head>
  <body>
    <div x-data="Dashboard">
      <section class="hero is-info">
        <div class="hero-body">
          <p class="title">
            Blockchain Explorer
          </p>
          <p class="subtitle">
            Welcome to FraggleBlock!
          </p>
        </div>
      </section>
      <section class="section">
        <div class="container mb-6">
          <nav class="level">
            <div class="level-item has-text-centered">
              <div>
                <p class="heading">Miner 1</p>
                <p class="title is-size-5"><span x-text="stats[3000]"></span> blocks</p>
                <div class="field">
                  <input
                    id="power3000"
                    name="power3000"
                    type="checkbox"
                    class="switch is-rounded is-success"
                    x-model="mining[3000]"
                    @click.prevent="mining[3000] ? stop(3000) : start(3000)"
                  >
                  <label for="power3000"></label>
                </div>
              </div>
            </div>
            <div class="level-item has-text-centered">
              <div>
                <p class="heading">Miner 2</p>
                <p class="title is-size-5"><span x-text="stats[3001]"></span> blocks</p>
                <div class="field">
                  <input
                    id="power3001"
                    name="power3001"
                    type="checkbox"
                    class="switch is-rounded is-success"
                    x-model="mining[3001]"
                    @click.prevent="mining[3001] ? stop(3001) : start(3001)"
                  >
                  <label for="power3001"></label>
                </div>
              </div>
            </div>
            <div class="level-item has-text-centered">
              <div>
                <p class="heading">Miner 3</p>
                <p class="title is-size-5"><span x-text="stats[3002]"></span> blocks</p>
                <div class="field">
                  <input
                    id="power3002"
                    name="power3002"
                    type="checkbox"
                    class="switch is-rounded is-success"
                    x-model="mining[3002]"
                    @click.prevent="mining[3002] ? stop(3002) : start(3002)"
                  >
                  <label for="power3002"></label>
                </div>
              </div>
            </div>
          </nav>
        </div>
        <div class="container" style="position: relative; min-height: 400px;">
          <h5 class="title is-5">Latest Blocks</h5>
          <h6 class="subtitle is-size-7">The most recently mined blocks</h6>
          <table class="table">
            <tbody>
              <tr>
                <td class="is-size-7">Height</td>
                <td class="is-size-7">Mined</td>
                <td class="is-size-7">Miner</td>
                <td class="is-size-7">Nonce</td>
                <td class="is-size-7">Hash</td>
              </tr>
              <template x-for="block in latestBlocks">
                <tr>
                  <td x-text="block.height"></td>
                  <td x-text="at(block.timestamp)"></td>
                  <td x-text="block.miner"></td>
                  <td x-text="block.nonce"></td>
                  <td x-text="block.hash"></td>
                </tr>
              </template>
            </tbody>
          </table>
          <div class="fade-to-white"></div>
        </div>
      </section>
    </div>
  </body>
</html>
